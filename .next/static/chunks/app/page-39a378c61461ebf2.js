(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{852:(e,t,o)=>{Promise.resolve().then(o.bind(o,8152))},5147:(e,t,o)=>{"use strict";o.d(t,{A:()=>d});var n=o(5155),a=o(2115),r=o(3495),i=o(3463),s=o(9795);function l(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return(0,s.QP)((0,i.$)(t))}let u={initial:{"--x":"-100%",scale:.8},animate:{"--x":["200%","-100%"],scale:1},whileHover:{scale:1.1},whileTap:{scale:.95},transition:{stiffness:200,damping:20,mass:1.5,"--x":{duration:1.8,ease:"easeInOut",repeat:1/0,repeatDelay:1,times:[0,1],repeatType:"loop"},scale:{type:"spring",stiffness:200,damping:20,mass:.5}}},c=a.forwardRef((e,t)=>{let{children:o,className:a,...i}=e;return(0,n.jsxs)("div",{className:"relative isolate",children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-[#B302FF]/30 blur-xl rounded-full -z-10","aria-hidden":"true"}),(0,n.jsx)(r.P.button,{ref:t,...u,...i,className:l("relative rounded-full px-24 py-5 font-medium","transition-all duration-300 ease-in-out","hover:shadow-[0_0_25px_rgba(255,255,255,0.5)]","bg-[#B302FF]/60 backdrop-blur-2xl","border border-gray-200/30","shadow-lg","font-noto-sans-jp font-bold",a),children:(0,n.jsx)("span",{className:l("relative block size-full text-xl uppercase tracking-wide text-white whitespace-nowrap"),style:{maskImage:"linear-gradient(-75deg,rgba(255,255,255,1) calc(var(--x) + 20%),transparent calc(var(--x) + 30%),rgba(255,255,255,1) calc(var(--x) + 100%))"},children:o})})]})});c.displayName="ShinyButton";let d=c},3204:(e,t,o)=>{"use strict";o.d(t,{X:()=>n});let n=[{text:"You gonna keep your eyes off the phone on the next train ride",description:"You gonna keep your eyes off the phone on the next train ride",video:"result-1.mp4",textLines:["You gonna keep your eyes off the phone on the next train ride"],descriptionLines:["Try gazing out the window or just watching the world go by –","You might feel more refreshed than you expect!","Let your mind wander until you reach your stop"]},{text:"Get off one station early and find your way home without using a map app",description:"Get off one station early and find your way home without using a map app",video:"result-2.mp4",textLines:["Get off one station early and find your way home without using a map app"],descriptionLines:["Forget the usual route,","Take a random detour – you might stumble upon something cool!","Sometimes, getting lost on the way home can lead to a pleasant surprise!"]},{text:"Take off your earphones today and tune into the sounds around you",description:"Take off your earphones today and tune into the sounds around you",video:"result-3.mp4",textLines:["Take off your earphones today and tune into the sounds around you"],descriptionLines:["Birds chirping, traffic – just the sounds of life.","Think about what you’re hearing, and let your mind wander.","Sometimes, zoning out to the world of soundtrack is the best way to refresh your mind !"]},{text:"Take a moment to look down and notice what your've been overlooking",description:"Take a moment to look down and notice what your've been overlooking",video:"result-4.mp4",textLines:["Take a moment to look down and notice what your've been overlooking"],descriptionLines:["Notice the patterns on the ground, leaves, pebbles –","Walk a bit slower and really take it in.","You’d be surprised how many cool little things you’ve been missing !"]},{text:"Look up and discover the small patterns around you.",description:"Look up and discover the small patterns around you.",video:"result-5.mp4",textLines:["Look up and discover the small patterns around you."],descriptionLines:["Notice the patterns on ceilings, walls, signs, and rooftops.","Pay attention to the materials, colors, and designs.","You’d be surprised how fun it is to observe them as you walk!"]},{text:"Let's wake up early and go for a nice brunch tomorrow morning",description:"Let's wake up early and go for a nice brunch tomorrow morning  ",video:"result-6.mp4",textLines:["Let's wake up early and go for a nice brunch tomorrow morning  "],descriptionLines:["Deciding to have a great breakfast tomorrow makes it something to look forward to!","Put down the scroll, and let’s rest up for tomorrow!"]},{text:"Let's eat the next meal without looking at our phones",description:"Let's eat the next meal without looking at our phones",video:"result-7.mp4",textLines:["Let's eat the next meal without looking at our phones"],descriptionLines:["Take a moment to really savor the colors and flavors,","It might be a good way to slow down and focus on the present."]}]},8152:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>p});var n=o(5155),a=o(2115),r=o(6046),i=o(3495),s=o(5683),l=o(3204),u=o(5147),c=o(4340);let d=[{text:"Am I the only one who never sticks to their New Year’s resolutions? lol",isB:!1,name:"kaede"},{text:"No fr—I totally forget about them by like February\uD83E\uDEE0",isB:!0},{text:"Every year I’ve been saying to cut down on screen time and focus more on self-care…and it never happens lol",isB:!1,name:"kaho"},{text:"I feel youuu!! It just feels impossible to just give up your phone for a whole day\uD83D\uDE2D",isB:!0},{text:"Like I’d never be able to resist all of the notifications…We probably need something a little more manageable to start with\uD83E\uDD14",isB:!1,name:"remu"},{text:"Wouldn’t it be cool if there was an app that gave you little prompts to help with that!?",isB:!1,name:"kaede"}];function p(){let e=(0,r.useRouter)();if(!(0,c.X)())return e.push("/403"),null;let[t,o]=(0,a.useState)(!1),[p,h]=(0,a.useState)(!1),[f,m]=(0,a.useState)(!1),[x,y]=(0,a.useState)(!1),[g,v]=(0,a.useState)(!1),[w,b]=(0,a.useState)(!1),[k,j]=(0,a.useState)(!1),[N,L]=(0,a.useState)(!1),[E,P]=(0,a.useState)(null),T=(0,a.useRef)(null),B=(0,a.useRef)(null),[I,S]=(0,a.useState)(0),[F,R]=(0,a.useState)(!1),C=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=setTimeout(()=>{b(!0)},2e3);return()=>clearTimeout(e)},[]),(0,a.useEffect)(()=>{if(!w&&g){let e=setTimeout(()=>{m(!0),v(!1)},1e3);return()=>clearTimeout(e)}},[w,g]),(0,a.useEffect)(()=>{if(f&&T.current){let e=T.current,t=!0,o=()=>{t&&e.paused&&e.play().catch(e=>{console.error("動画の再生に失敗:",e)})},n=o=>{o.preventDefault(),t&&e.paused&&e.play().catch(e=>{console.error("再生の再開に失敗:",e)})};return e.addEventListener("loadeddata",o,{once:!0}),e.addEventListener("pause",n),()=>{t=!1,e.removeEventListener("loadeddata",o),e.removeEventListener("pause",n);try{e.pause()}catch(e){console.error("動画の停止に失敗:",e)}e.currentTime=0}}},[f]);let A=async e=>{try{await e.play()}catch(t){console.error("動画の再生に失敗:",t),setTimeout(async()=>{try{await e.play()}catch(e){console.error("再試行も失敗:",e)}},1e3)}};return(0,a.useEffect)(()=>{if(p&&B.current&&E){let e=B.current,t=!0;if(console.log("Video element mounted:",e),!e.paused)try{e.pause()}catch(e){console.error("Failed to pause previous video:",e)}return e.src="/static/video/".concat(E.video),e.load(),e.addEventListener("loadeddata",()=>{t&&(console.log("Video loaded, attempting to play"),A(e))},{once:!0}),()=>{if(t=!1,!e.paused)try{e.pause()}catch(e){console.error("動画の停止に失敗:",e)}e.currentTime=0}}},[p,E]),(0,a.useEffect)(()=>{if(!w)return;let e=setTimeout(()=>{I<d.length?(d[I].isB||R(!0),setTimeout(()=>{R(!1),S(e=>e+1)},2e3)):setTimeout(()=>{b(!1),v(!0)},3e3)},3e3);return()=>clearTimeout(e)},[I,w]),(0,a.useEffect)(()=>{C.current},[I]),(0,n.jsxs)(i.P.div,{initial:{filter:"blur(10px)",opacity:0},animate:{filter:"blur(0px)",opacity:1},exit:{filter:"blur(10px)",opacity:0},transition:{duration:1},style:{overscrollBehaviorX:"auto"},className:"h-screen w-screen overflow-hidden relative",children:[(0,n.jsx)("div",{className:"absolute inset-0 w-full h-full",style:{backgroundColor:w?"#ffffff":"#9A5AC8",transition:"background-color 0.5s ease-in-out"}}),(0,n.jsx)("div",{className:"absolute inset-0 w-full h-full",style:{backgroundImage:g?"url(/static/background/background.gif)":x?"url(/static/background/opening.gif)":"none",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",opacity:w?0:g||x?1:0,transition:"opacity 0.5s ease-in-out",pointerEvents:"none"}}),(0,n.jsx)("div",{className:"relative z-10 h-full flex items-center justify-center",children:w&&(0,n.jsx)("div",{className:"w-full max-w-2xl mx-auto px-4 sm:px-6 md:px-8 py-8 overflow-hidden mt-[-10vh]",children:(0,n.jsx)("div",{className:"max-h-screen overflow-y-auto scrollbar-hide",children:(0,n.jsx)("div",{className:"space-y-2",children:(()=>{let e=0,t=["remu-icon","kaede-icon","kaho-icon"];return(0,n.jsxs)(n.Fragment,{children:[d.slice(0,I).map((o,a)=>(!o.isB&&e++,(0,n.jsx)(i.P.div,{initial:{opacity:0,y:0,scale:.95,x:"-50%",left:"50%"},animate:{opacity:1,scale:1,x:0,left:0},transition:{type:"spring",stiffness:300,damping:25,duration:.5,ease:"easeOut"},className:"flex ".concat(o.isB?"justify-end":"justify-start"," mb-3 mx-4 relative"),children:(0,n.jsxs)("div",{className:"relative max-w-[85%] flex items-start gap-2 ".concat(o.isB?"flex-row-reverse":"flex-row"),children:[!o.isB&&(0,n.jsx)("div",{className:"w-6 h-6 rounded-full flex-shrink-0 overflow-hidden",children:(0,n.jsx)("img",{src:"/static/icons/".concat(t[e%3],".png"),alt:o.name,className:"w-full h-full object-cover"})}),(0,n.jsxs)("div",{className:"flex flex-col",children:[o.name&&(0,n.jsx)("span",{className:"text-xs text-gray-500 mb-1 ".concat(o.isB?"text-right":"text-left"),children:o.name}),(0,n.jsx)("div",{className:"px-3 py-2 rounded-[16px] ".concat(o.isB?"bg-[#1382FE] text-white rounded-br-sm":"bg-[#F3F5F7] text-black rounded-bl-sm"),children:(0,n.jsx)("p",{className:"text-left text-sm leading-relaxed whitespace-pre-wrap",children:o.text})})]})]})},a))),F&&(0,n.jsx)(i.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,ease:"easeInOut"},className:"flex justify-start mb-4 mx-4",children:(0,n.jsx)("div",{className:"bg-[#F3F5F7] rounded-full px-4 py-1",children:(0,n.jsx)("span",{className:"text-gray-500 text-xs",children:"Typing..."})})})]})})()})})})}),(0,n.jsx)(s.N,{children:t&&(0,n.jsx)(i.P.div,{initial:{opacity:0,filter:"blur(10px)"},animate:{opacity:1,filter:"blur(0px)"},exit:{opacity:0,filter:"blur(10px)"},transition:{duration:2},className:"fixed bottom-20 left-1/2 -translate-x-1/2 z-[100]",children:(0,n.jsx)(u.A,{onClick:()=>{try{let e=Math.floor(Math.random()*l.X.length),t=l.X[e];console.log("Selected result:",t),P(t),o(!1),y(!1),h(!0)}catch(e){console.error("遷移エラー:",e)}},style:{"--primary":"328 100% 54%"},children:"Click me！"})})}),f&&(0,n.jsx)(i.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},className:"fixed inset-0 w-full h-full z-50",children:(0,n.jsx)(i.P.video,{ref:T,src:"/static/video/opening-2.mp4",autoPlay:!0,playsInline:!0,muted:!0,controls:!1,controlsList:"noplaybackrate nofullscreen nodownload",disablePictureInPicture:!0,style:{pointerEvents:"none",touchAction:"none"},className:"w-full h-full object-cover",onEnded:()=>{try{m(!1),y(!0),o(!0)}catch(e){console.error("Opening video end error:",e)}}})}),(0,n.jsx)(s.N,{children:p&&E&&(0,n.jsx)(i.P.div,{initial:{opacity:0},animate:{opacity:1,filter:N?"blur(10px)":"blur(0px)"},exit:{opacity:0,filter:"blur(10px)"},transition:{duration:1},className:"fixed inset-0 w-full h-full z-50",children:(0,n.jsx)(i.P.video,{ref:B,src:"/static/video/".concat(E.video),autoPlay:!0,playsInline:!0,muted:!0,controls:!1,controlsList:"noplaybackrate nofullscreen nodownload",disablePictureInPicture:!0,style:{pointerEvents:"none",touchAction:"none"},className:"w-full h-full object-cover",onEnded:()=>{try{if(!E)return;console.log("Video ended, attempting to navigate"),h(!1),y(!1);let t=l.X.findIndex(e=>e.text===E.text);if(-1===t){console.error("結果が見つかりません");return}console.log("Navigating to result page with index:",t),e.push("/result?id=".concat(t),{scroll:!1})}catch(e){console.error("ルート遷移に失敗しました",e)}},onTimeUpdate:e=>{let t=e.target;t.duration,t.currentTime}})})})]})}},4340:(e,t,o)=>{"use strict";o.d(t,{X:()=>n});let n=()=>{let e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(window.navigator.userAgent);return console.log("UserAgent:",window.navigator.userAgent),console.log("isMobileDevice result:",e),e}},5683:(e,t,o)=>{"use strict";o.d(t,{N:()=>y});var n=o(5155),a=o(2115),r=o(9656),i=o(9234),s=o(7249);class l extends a.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function u(e){let{children:t,isPresent:o}=e,r=(0,a.useId)(),i=(0,a.useRef)(null),u=(0,a.useRef)({width:0,height:0,top:0,left:0}),{nonce:c}=(0,a.useContext)(s.Q);return(0,a.useInsertionEffect)(()=>{let{width:e,height:t,top:n,left:a}=u.current;if(o||!i.current||!e||!t)return;i.current.dataset.motionPopId=r;let s=document.createElement("style");return c&&(s.nonce=c),document.head.appendChild(s),s.sheet&&s.sheet.insertRule('\n          [data-motion-pop-id="'.concat(r,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(n,"px !important;\n            left: ").concat(a,"px !important;\n          }\n        ")),()=>{document.head.removeChild(s)}},[o]),(0,n.jsx)(l,{isPresent:o,childRef:i,sizeRef:u,children:a.cloneElement(t,{ref:i})})}let c=e=>{let{children:t,initial:o,isPresent:s,onExitComplete:l,custom:c,presenceAffectsLayout:p,mode:h}=e,f=(0,i.M)(d),m=(0,a.useId)(),x=(0,a.useCallback)(e=>{for(let t of(f.set(e,!0),f.values()))if(!t)return;l&&l()},[f,l]),y=(0,a.useMemo)(()=>({id:m,initial:o,isPresent:s,custom:c,onExitComplete:x,register:e=>(f.set(e,!1),()=>f.delete(e))}),p?[Math.random(),x]:[s,x]);return(0,a.useMemo)(()=>{f.forEach((e,t)=>f.set(t,!1))},[s]),a.useEffect(()=>{s||f.size||!l||l()},[s]),"popLayout"===h&&(t=(0,n.jsx)(u,{isPresent:s,children:t})),(0,n.jsx)(r.t.Provider,{value:y,children:t})};function d(){return new Map}var p=o(4710),h=o(5107);let f=e=>e.key||"";function m(e){let t=[];return a.Children.forEach(e,e=>{(0,a.isValidElement)(e)&&t.push(e)}),t}var x=o(5403);let y=e=>{let{children:t,exitBeforeEnter:o,custom:r,initial:s=!0,onExitComplete:l,presenceAffectsLayout:u=!0,mode:d="sync"}=e;(0,h.V)(!o,"Replace exitBeforeEnter with mode='wait'");let y=(0,a.useMemo)(()=>m(t),[t]),g=y.map(f),v=(0,a.useRef)(!0),w=(0,a.useRef)(y),b=(0,i.M)(()=>new Map),[k,j]=(0,a.useState)(y),[N,L]=(0,a.useState)(y);(0,x.E)(()=>{v.current=!1,w.current=y;for(let e=0;e<N.length;e++){let t=f(N[e]);g.includes(t)?b.delete(t):!0!==b.get(t)&&b.set(t,!1)}},[N,g.length,g.join("-")]);let E=[];if(y!==k){let e=[...y];for(let t=0;t<N.length;t++){let o=N[t],n=f(o);g.includes(n)||(e.splice(t,0,o),E.push(o))}"wait"===d&&E.length&&(e=E),L(m(e)),j(y);return}let{forceRender:P}=(0,a.useContext)(p.L);return(0,n.jsx)(n.Fragment,{children:N.map(e=>{let t=f(e),o=y===N||g.includes(t);return(0,n.jsx)(c,{isPresent:o,initial:(!v.current||!!s)&&void 0,custom:o?void 0:r,presenceAffectsLayout:u,mode:d,onExitComplete:o?void 0:()=>{if(!b.has(t))return;b.set(t,!0);let e=!0;b.forEach(t=>{t||(e=!1)}),e&&(null==P||P(),L(w.current),l&&l())},children:e},t)})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[494,181,441,517,358],()=>t(852)),_N_E=e.O()}]);